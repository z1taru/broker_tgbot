-- ====================================
-- FAQ Bot Database Schema
-- ====================================

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã FAQ
CREATE TABLE IF NOT EXISTS faq (
    id SERIAL PRIMARY KEY,
    question TEXT NOT NULL,
    answer_text TEXT NOT NULL,
    video_url TEXT,
    category VARCHAR(100) NOT NULL,
    language VARCHAR(10) DEFAULT 'kk' NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL
);

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç–∞–±–ª–∏—Ü–µ FAQ
COMMENT ON TABLE faq IS '–¢–∞–±–ª–∏—Ü–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤';
COMMENT ON COLUMN faq.question IS '–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞';
COMMENT ON COLUMN faq.answer_text IS '–¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç';
COMMENT ON COLUMN faq.video_url IS '–ò–º—è —Ñ–∞–π–ª–∞ –≤–∏–¥–µ–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)';
COMMENT ON COLUMN faq.category IS '–ö–∞—Ç–µ–≥–æ—Ä–∏—è –≤–æ–ø—Ä–æ—Å–∞';
COMMENT ON COLUMN faq.language IS '–Ø–∑—ã–∫ (kk, ru, en)';

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–æ–≥–æ–≤
CREATE TABLE IF NOT EXISTS logs (
    id SERIAL PRIMARY KEY,
    telegram_id VARCHAR(100) NOT NULL,
    question TEXT,
    matched_faq_id INTEGER,
    confidence FLOAT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL,
    FOREIGN KEY (matched_faq_id) REFERENCES faq (id) ON DELETE SET NULL
);

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç–∞–±–ª–∏—Ü–µ logs
COMMENT ON TABLE logs IS '–õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π';
COMMENT ON COLUMN logs.telegram_id IS 'Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
COMMENT ON COLUMN logs.question IS '–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
COMMENT ON COLUMN logs.matched_faq_id IS 'ID –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ FAQ';
COMMENT ON COLUMN logs.confidence IS '–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ (0-1)';

-- ====================================
-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
-- ====================================

-- FAQ –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX IF NOT EXISTS idx_faq_category ON faq (category);
CREATE INDEX IF NOT EXISTS idx_faq_language ON faq (language);
CREATE INDEX IF NOT EXISTS idx_faq_category_language ON faq (category, language);
CREATE INDEX IF NOT EXISTS idx_faq_created_at ON faq (created_at DESC);

-- Logs –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX IF NOT EXISTS idx_logs_telegram_id ON logs (telegram_id);
CREATE INDEX IF NOT EXISTS idx_logs_created_at ON logs (created_at DESC);
CREATE INDEX IF NOT EXISTS idx_logs_faq_id ON logs (matched_faq_id) WHERE matched_faq_id IS NOT NULL;
CREATE INDEX IF NOT EXISTS idx_logs_telegram_created ON logs (telegram_id, created_at DESC);

-- ====================================
-- –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫)
-- ====================================

INSERT INTO faq (question, answer_text, video_url, category, language) VALUES
    -- Tabys Pro –∫–∞—Ç–µ–≥–æ—Ä–∏—è
    (
        '–û–±–ª–∏–≥–∞—Ü–∏—è –∞–ª—É–¥—ã“£ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—Ç—ñ –∂–æ–ª—ã - Tabys Pro',
        'Tabys Pro –∞—Ä“õ—ã–ª—ã –æ–±–ª–∏–≥–∞—Ü–∏—è —Å–∞—Ç—ã–ø –∞–ª—É ”©—Ç–µ –æ“£–∞–π! üì±

“ö–∞–¥–∞–º–¥–∞—Ä:
1Ô∏è‚É£ Tabys Pro “õ–æ—Å—ã–º—à–∞—Å—ã–Ω –∂“Ø–∫—Ç–µ–ø –∞–ª–∞–º—ã–∑
2Ô∏è‚É£ –¢—ñ—Ä–∫–µ—É–¥–µ–Ω ”©—Ç–µ–º—ñ–∑ (–±“±–ª —Ç–µ–∑!)
3Ô∏è‚É£ "–ü–æ–ø–æ–ª–Ω–∏—Ç—å" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã–ø, –±—Ä–æ–∫–µ—Ä–≥–µ “õ–∞–∂–µ—Ç—Ç—ñ —Å–æ–º–∞–Ω—ã —Å–∞–ª–∞–º—ã–∑. –ö–∞—Å–ø–∏ –∞—Ä“õ—ã–ª—ã —Ç–æ–ª—Ç—ã—Ä—Å–∞“£—ã–∑ ‚Äì –∫–æ–º–∏—Å—Å–∏—è—Å—ã–∑! üí∞
4Ô∏è‚É£ –ù–∞—Ä—ã“õ –±”©–ª—ñ–º—ñ–Ω–µ ”©—Ç–µ–º—ñ–∑ (—Ç”©–º–µ–Ω–¥–µ–≥—ñ “Ø—à—ñ–Ω—à—ñ –±–∞—Ç—ã—Ä–º–∞)
5Ô∏è‚É£ –û–±–ª–∏–≥–∞—Ü–∏—è–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ–Ω–µ–Ω ”©–∑—ñ“£—ñ–∑–≥–µ “±–Ω–∞“ì–∞–Ω—ã–Ω —Ç–∞“£–¥–∞–ø –∑–µ—Ä—Ç—Ç–µ“£—ñ–∑
6Ô∏è‚É£ –Ü–∑–¥–µ—É –∂–æ–ª–∞“ì—ã–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—è –∫–æ–¥—ã–Ω –∂–∞–∑—ã“£—ã–∑ (–º—ã—Å–∞–ª—ã: MFRFB19)
7Ô∏è‚É£ –ù–∞—Ä—ã“õ—Ç—ã“õ –±–∞“ì–∞–º–µ–Ω “õ–∞–∂–µ—Ç —Å–∞–Ω—ã–Ω —Ç–∞“£–¥–∞“£—ã–∑
8Ô∏è‚É£ "–ö—É–ø–∏—Ç—å" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã–ø ‚Äì –¥–∞–π—ã–Ω! üéâ

–í–∏–¥–µ–æ –Ω“±—Å“õ–∞—É–¥—ã –º—ñ–Ω–¥–µ—Ç—Ç—ñ “õ–∞—Ä–∞“£—ã–∑ ‚Äì –±–∞—Ä–ª—ã“ì—ã –∞–Ω—ã“õ —Ç“Ø—Å—ñ–Ω—ñ–∫—Ç—ñ –±–æ–ª–∞–¥—ã! üé¨',
        'tabys_pro_bonds.mp4',
        'tabys_pro',
        'kk'
    ),
    
    -- Freedom Broker –∫–∞—Ç–µ–≥–æ—Ä–∏—è
    (
        '–§—Ä–∏–¥–æ–º –±—Ä–æ–∫–µ—Ä–¥–µ –µ–∫—ñ–Ω—à—ñ —à–æ—Ç “õ–∞–ª–∞–π –∞—à–∞–º—ã–∑?',
        '–ï–∫—ñ–Ω—à—ñ —à–æ—Ç –∞—à—É ”©—Ç–µ “õ–∞—Ä–∞–ø–∞–π—ã–º! –ë—ñ—Ä–≥–µ —ñ—Å—Ç–µ–π—ñ–∫: üòä

1Ô∏è‚É£ Freedom –±—Ä–æ–∫–µ—Ä–≥–µ –∫—ñ—Ä–µ–º—ñ–∑
2Ô∏è‚É£ –ú–µ–Ω—é –±”©–ª—ñ–º—ñ–Ω –∞—à–∞–º—ã–∑
3Ô∏è‚É£ "–ü–æ—Ä—É—á–µ–Ω–∏—è" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω —Ç–∞–±–∞–º—ã–∑
4Ô∏è‚É£ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç" —Ç–∞“£–¥–∞–π–º—ã–∑
5Ô∏è‚É£ –¢–∞—Ä–∏—Ñ—Ç—ñ–∫ –∂–æ—Å–ø–∞—Ä —Ä–µ—Ç—ñ–Ω–¥–µ "Investor" –Ω–µ–º–µ—Å–µ "–°—Ç–∞–Ω–¥–∞—Ä—Ç" “õ–æ—è“£—ã–∑ ‚Äì –µ–∫–µ—É—ñ–Ω—ñ“£ –¥–µ –∫–æ–º–∏—Å—Å–∏—è—Å—ã —Ç”©–º–µ–Ω! üí∏
6Ô∏è‚É£ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" –±–∞—Å—ã–ø, "–û–ö" –¥–µ–ø —Ä–∞—Å—Ç–∞–π–º—ã–∑
7Ô∏è‚É£ 2 —Å–∞“ì–∞—Ç—Ç–∞–Ω –∫–µ–π—ñ–Ω —à–æ—Ç –¥–∞–π—ã–Ω –±–æ–ª–∞–¥—ã! ‚è∞

–¢–µ–∫—Å–µ—Ä—É “Ø—à—ñ–Ω: –ú–µ–Ω—é ‚Üí –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –±–∞—Ä–ª—ã“õ —à–æ—Ç—Ç–∞—Ä—ã“£—ã–∑ –∫”©—Ä—ñ–Ω–µ–¥—ñ ‚úÖ

–í–∏–¥–µ–æ–¥–∞ –Ω–∞“õ—Ç—ã—Ä–∞“õ –∫”©—Ä—Å–µ—Ç—Ç—ñ–º ‚Äì “õ–∞—Ä–∞–ø —à—ã“ì—ã“£—ã–∑! üé•',
        'freedom_second_account.mp4',
        'freedom_broker',
        'kk'
    ),
    
    (
        '–§—Ä–∏–¥–æ–º –±—Ä–æ–∫–µ—Ä –±–æ–π—ã–Ω—à–∞ —Å“±—Ä–∞“õ –Ω–µ–º–µ—Å–µ —Ç–µ—Ö–Ω–∏–∫–∞–ª—ã“õ –∞“õ–∞—É –±–æ–ª—Å–∞ –Ω–µ —ñ—Å—Ç–µ—É –∫–µ—Ä–µ–∫?',
        '–ë—Ä–æ–∫–µ—Ä –±–æ–π—ã–Ω—à–∞ —Å“±—Ä–∞“õ —Ç—É—ã–Ω–¥–∞–¥—ã –º–∞? –ü–∞–Ω–∏–∫–∞–ª–∞–º–∞“£—ã–∑! üí™

–ú–µ–Ω –∂–∞—É–∞–ø –±–µ—Ä–µ –∞–ª–º–∞—Å–∞–º ‚Äì “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑ –º—ã–Ω–∞–Ω—ã:

1Ô∏è‚É£ Freedom –±—Ä–æ–∫–µ—Ä —ñ—à—ñ–Ω–¥–µ –ú–µ–Ω—é ‚Üí –ü–æ–¥–¥–µ—Ä–∂–∫–∞
2Ô∏è‚É£ "–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑
3Ô∏è‚É£ –°“±—Ä–∞“ì—ã“£—ã–∑–¥—ã –∂–∞–∑—ã“£—ã–∑
4Ô∏è‚É£ 10-15 –º–∏–Ω—É—Ç—Ç–∞ –∂–∞—É–∞–ø –∫–µ–ª–µ–¥—ñ! ‚ö°

Freedom-—Ç—ñ“£ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –º–µ–Ω–µ–¥–∂–µ—Ä–ª–µ—Ä—ñ —Ç–µ–∑ ”ô—Ä—ñ –Ω–∞“õ—Ç—ã –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ. –ñ–∞—É–∞–ø —Ç“Ø—Å—ñ–Ω—ñ–∫—Å—ñ–∑ –±–æ–ª—Å–∞ ‚Äì “õ–∞–π—Ç–∞ —Å“±—Ä–∞–ø –∞–ª—ã“£—ã–∑, –æ–ª–∞—Ä –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ! ü§ù

–í–∏–¥–µ–æ–¥–∞ –±–∞—Ä–ª—ã“õ –ø—Ä–æ—Ü–µ—Å—Å “õ–∞–¥–∞–º-“õ–∞–¥–∞–º–º–µ–Ω –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω üëá',
        'freedom_support.mp4',
        'freedom_broker',
        'kk'
    ),
    
    (
        '–¢–µ“£–≥–µ–Ω—ñ –¥–æ–ª–ª–∞—Ä“ì–∞ “õ–∞–ª–∞–π –∞–π—ã—Ä–±–∞—Å—Ç–∞–π–º—ã–∑?',
        '–í–∞–ª—é—Ç–∞ –∞–π—ã—Ä–±–∞—Å—ã ‚Äì —Ä–∞–∑-–µ–∫—ñ –±–æ–ª–¥—ã! üí±

–ù–µ–≥–µ –∫–µ—Ä–µ–∫? –î–æ–ª–ª–∞—Ä–ª—ã –∞–∫—Ü–∏—è/ETF/–æ–±–ª–∏–≥–∞—Ü–∏—è –∞–ª“ì—ã“£—ã–∑ –∫–µ–ª—Å–µ, –∞–ª–¥—ã–º–µ–Ω —Ç–µ“£–≥–µ–Ω—ñ –¥–æ–ª–ª–∞—Ä“ì–∞ –∞–π—ã—Ä–±–∞—Å—Ç–∞–π–º—ã–∑.

“ö–∞–ª–∞–π?
1Ô∏è‚É£ "–û–±–º–µ–Ω—è—Ç—å" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑
2Ô∏è‚É£ KZT ‚Üí USD —Ç–∞“£–¥–∞“£—ã–∑ (–∫–µ—Ä—ñ—Å—ñ–Ω—à–µ –±–æ–ª—Å–∞ USD ‚Üí KZT)
3Ô∏è‚É£ –ö–µ—Ä–µ–∫ —Å–æ–º–∞–Ω—ã –∂–∞–∑—ã“£—ã–∑ –ù–ï–ú–ï–°–ï "–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞" –¥–µ–ø —Ç–æ–ª—ã“ì—ã–º–µ–Ω –∞—É—ã—Å—Ç—ã—Ä—ã“£—ã–∑
4Ô∏è‚É£ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" ‚Äì –¥–∞–π—ã–Ω! ‚úÖ

–ü—Ä–æ—Ü–µ—Å—Å —Å–µ–∫—É–Ω–¥—Ç–∞—Ä —ñ—à—ñ–Ω–¥–µ ”©—Ç–µ–¥—ñ. –í–∏–¥–µ–æ–¥–∞ –±–∞—Ä–ª—ã“ì—ã –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω ‚Äì “õ–∞—Ä–∞“£—ã–∑! üé¨',
        'currency_exchange.mp4',
        'freedom_broker',
        'kk'
    ),
    
    -- Basics –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–º—ã—Å–∞–ª–¥–∞—Ä)
    (
        '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –¥–µ–≥–µ–Ω—ñ–º—ñ–∑ –Ω–µ?',
        '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è ‚Äì –±“±–ª ”©–∑ –∞“õ—à–∞“£—ã–∑–¥—ã –∂“±–º—ã—Å“õ–∞ —Å–∞–ª—É! üíº

“ö–∞—Ä–∞–ø–∞–π—ã–º —Ç—ñ–ª–º–µ–Ω: —Å—ñ–∑ “õ–∞–∑—ñ—Ä –∞“õ—à–∞ —Å–∞–ª–∞—Å—ã–∑ ‚Üí –æ–ª ”©—Å—ñ–ø, –±–æ–ª–∞—à–∞“õ—Ç–∞ –∫”©–±—ñ—Ä–µ–∫ —Ç–∞–±—ã—Å ”ô–∫–µ–ª–µ–¥—ñ.

–ú—ã—Å–∞–ª: –∞–∫—Ü–∏—è —Å–∞—Ç—ã–ø –∞–ª–¥—ã“£—ã–∑ 1000‚Ç∏-–≥–µ ‚Üí –æ–ª 1500‚Ç∏ –±–æ–ª–¥—ã = 500‚Ç∏ –ø–∞–π–¥–∞! üìà

–ë–∞—Å—Ç—ã –ø—Ä–∏–Ω—Ü–∏–ø—Ç–µ—Ä:
‚úÖ “∞–∑–∞“õ –º–µ—Ä–∑—ñ–º–≥–µ –æ–π–ª–∞“£—ã–∑
‚úÖ –¢”ô—É–µ–∫–µ–ª–¥—ñ –±–∞—Å“õ–∞—Ä—ã“£—ã–∑
‚úÖ –ü–æ—Ä—Ç—Ñ–µ–ª—å–¥—ñ ”ô—Ä—Ç–∞—Ä–∞–ø—Ç–∞–Ω–¥—ã—Ä—ã“£—ã–∑

–ë—ñ–∑ —Å—ñ–∑–¥—ñ –¥“±—Ä—ã—Å –±–∞—Å—Ç–∞—É“ì–∞ “Ø–π—Ä–µ—Ç–µ–º—ñ–∑! üéì',
        NULL,
        'basics',
        'kk'
    ),
    
    (
        '–ê–∫—Ü–∏—è –º–µ–Ω –æ–±–ª–∏–≥–∞—Ü–∏—è–Ω—ã“£ –∞–π—ã—Ä–º–∞—à—ã–ª—ã“ì—ã –Ω–µ–¥–µ?',
        '–ï–∫–µ—É—ñ –¥–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è “õ“±—Ä–∞–ª—ã, –±—ñ—Ä–∞“õ ”ô—Ä—Ç“Ø—Ä–ª—ñ! ü§î

üìä –ê–ö–¶–ò–Ø:
- –ö–æ–º–ø–∞–Ω–∏—è–Ω—ã“£ –±—ñ—Ä –±”©–ª—ñ–≥—ñ–Ω —Å–∞—Ç—ã–ø –∞–ª–∞—Å—ã–∑
- –ë–∞“ì–∞—Å—ã –∫”©–ø ”©–∑–≥–µ—Ä–µ–¥—ñ (—Ç”ô—É–µ–∫–µ–ª –∂–æ“ì–∞—Ä—ã)
- –î–∏–≤–∏–¥–µ–Ω–¥ –∞–ª—É“ì–∞ –±–æ–ª–∞–¥—ã
- “Æ–ª–∫–µ–Ω –ø–∞–π–¥–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ –±–∞—Ä

üí∞ –û–ë–õ–ò–ì–ê–¶–ò–Ø:
- –ö–æ–º–ø–∞–Ω–∏—è“ì–∞/–º–µ–º–ª–µ–∫–µ—Ç–∫–µ “õ–∞—Ä—ã–∑ –±–µ—Ä–µ—Å—ñ–∑
- –¢“±—Ä–∞“õ—Ç—ã, –±–æ–ª–∂–∞–º–¥—ã —Ç–∞–±—ã—Å
- –¢”ô—É–µ–∫–µ–ª —Ç”©–º–µ–Ω
- –ö—É–ø–æ–Ω —Ç”©–ª–µ–º–¥–µ—Ä—ñ –∫–µ–ª–µ–¥—ñ

“ö–∞–π—Å—ã—Å—ã–Ω —Ç–∞“£–¥–∞—É –∫–µ—Ä–µ–∫? –ï–∫–µ—É—ñ–Ω –¥–µ “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑ ‚Äì –ø–æ—Ä—Ç—Ñ–µ–ª—å–¥—ñ ”ô—Ä—Ç–∞—Ä–∞–ø—Ç–∞–Ω–¥—ã—Ä—É! üéØ',
        NULL,
        'basics',
        'kk'
    );

-- ====================================
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏—è—Å—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
-- ====================================

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö FAQ
CREATE OR REPLACE FUNCTION get_popular_faqs(limit_count INTEGER DEFAULT 10)
RETURNS TABLE (
    faq_id INTEGER,
    question TEXT,
    view_count BIGINT
) AS $$
BEGIN
    RETURN QUERY
    SELECT 
        f.id,
        f.question,
        COUNT(l.id) as views
    FROM faq f
    LEFT JOIN logs l ON f.id = l.matched_faq_id
    GROUP BY f.id, f.question
    ORDER BY views DESC
    LIMIT limit_count;
END;
$$ LANGUAGE plpgsql;

-- ====================================
-- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
-- ====================================

-- –í—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
DO $$
DECLARE
    faq_count INTEGER;
    log_count INTEGER;
BEGIN
    SELECT COUNT(*) INTO faq_count FROM faq;
    SELECT COUNT(*) INTO log_count FROM logs;
    
    RAISE NOTICE '‚úÖ Database initialization complete!';
    RAISE NOTICE 'üìä FAQ records: %', faq_count;
    RAISE NOTICE 'üìù Log records: %', log_count;
END $$;

